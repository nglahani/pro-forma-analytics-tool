(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[378],{11350:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(95155),s=r(86948),n=r(3998),l=r(11647),i=r(86651),d=r(19408);let o=(0,r(51668).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var c=r(65142),p=r(12115),u=r(52236);let m=[{id:1,address:"123 Main St, New York, NY 10001",type:"Multifamily",units:24,analyzedDate:"2024-01-15",npv:125e4,irr:12.5,status:"Completed"},{id:2,address:"456 Oak Ave, Los Angeles, CA 90210",type:"Commercial",units:8,analyzedDate:"2024-01-10",npv:875e3,irr:11.2,status:"Completed"},{id:3,address:"789 Pine Rd, Chicago, IL 60601",type:"Mixed-Use",units:16,analyzedDate:"2024-01-08",npv:95e4,irr:13.8,status:"Completed"}];function h(){let[e,t]=(0,p.useState)(m),[r,h]=(0,p.useState)(!1),[y,x]=(0,p.useState)(null);return(0,p.useEffect)(()=>{(async()=>{h(!0),x(null);try{let e=JSON.parse(localStorage.getItem("savedProperties")||"[]");if(e.length>0){let r=e.map((e,t)=>{var r,a;return{id:e.property_id||"local_".concat(t),address:e.property_address||e.property_name||"Unknown Property",type:e.commercial_units?"Mixed-Use":"Residential",units:((null==(r=e.residential_units)?void 0:r.total_units)||0)+((null==(a=e.commercial_units)?void 0:a.total_units)||0),analyzedDate:e.savedAt?new Date(e.savedAt).toLocaleDateString():new Date().toLocaleDateString(),npv:0,irr:0,status:"analyzed"===e.status?"Completed":"Saved"}});t([...r,...m])}let r=await u.K.getAnalysisHistory(20);if(r.success&&r.data&&r.data.length>0){let e=r.data.map(e=>({id:e.analysis_id||e.property_id,address:e.property_address||"Property ".concat(e.property_id),type:e.property_type||"Multifamily",units:e.total_units||0,analyzedDate:e.analysis_date?new Date(e.analysis_date).toLocaleDateString():"Unknown",npv:Math.round(e.npv||0),irr:e.irr?parseFloat((100*e.irr).toFixed(1)):0,status:"Completed"}));t(t=>{let r=[...t];return e.forEach(e=>{r.find(t=>t.id===e.id)||r.push(e)}),r})}}catch(e){}finally{h(!1)}})()},[]),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Properties"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Reference list of previously analyzed properties"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"relative max-w-md",children:[(0,a.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(c.p,{placeholder:"Search by address...",className:"pl-10"})]})}),(0,a.jsxs)(s.Zp,{children:[(0,a.jsx)(s.aR,{children:(0,a.jsxs)(s.ZB,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),"Analyzed Properties (",e.length,")"]})}),(0,a.jsx)(s.Wu,{children:r?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"mx-auto h-12 w-12 text-gray-400 animate-pulse"}),(0,a.jsx)("h3",{className:"mt-4 text-sm font-medium text-gray-900",children:"Loading properties..."}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Fetching your analysis history"})]}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-4 text-sm font-medium text-gray-900",children:"No properties analyzed yet"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Properties will appear here after running DCF analysis"})]}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.address}),(0,a.jsx)(l.E,{variant:"outline",children:e.type}),(0,a.jsxs)(l.E,{variant:"outline",children:[e.units," units"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["Analyzed: ",e.analyzedDate]}),(0,a.jsxs)("span",{children:["NPV: $",e.npv.toLocaleString()]}),(0,a.jsxs)("span",{children:["IRR: ",e.irr,"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.E,{variant:"Completed"===e.status?"success":"warning",children:e.status}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:(0,a.jsx)(o,{className:"h-4 w-4"})})]})]},e.id))})})]})]})})}},19408:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(51668).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},32467:(e,t,r)=>{"use strict";r.d(t,{DX:()=>i,TL:()=>l});var a=r(12115),s=r(94446),n=r(95155);function l(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){var l;let e,i,d=(l=r,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),o=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(o.ref=t?(0,s.t)(t,d):d),a.cloneElement(r,o)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:s,...l}=e,i=a.Children.toArray(s),d=i.find(o);if(d){let e=d.props.children,s=i.map(t=>t!==d?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...l,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,n.jsx)(t,{...l,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}var i=l("Slot"),d=Symbol("radix.slottable");function o(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},32563:(e,t,r)=>{Promise.resolve().then(r.bind(r,11350))},51668:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(12115),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{color:l="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:c="",children:p,...u}=r;return(0,a.createElement)("svg",{ref:n,...s,width:i,height:i,stroke:l,strokeWidth:o?24*Number(d)/Number(i):d,className:["lucide","lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),c].join(" "),...u},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(p)?p:[p]])});return r.displayName="".concat(e),r}},65142:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(95155),s=r(12115),n=r(14915);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},86651:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(51668).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},94446:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>n});var a=r(12115);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,a=e.map(e=>{let a=s(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():s(e[t],null)}}}}function l(...e){return a.useCallback(n(...e),e)}}},e=>{e.O(0,[349,915,404,441,255,358],()=>e(e.s=32563)),_N_E=e.O()}]);