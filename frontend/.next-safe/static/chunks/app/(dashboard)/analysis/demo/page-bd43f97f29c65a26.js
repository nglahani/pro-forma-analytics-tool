(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{3998:(e,s,a)=>{"use strict";a.d(s,{$:()=>o});var t=a(95155),r=a(12115),n=a(32467),l=a(83101),i=a(14915);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:a,variant:r,size:l,asChild:o=!1,...d}=e,m=o?n.DX:"button";return(0,t.jsx)(m,{className:(0,i.cn)(c({variant:r,size:l,className:a})),ref:s,...d})});o.displayName="Button"},10662:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eN});var t=a(95155),r=a(12115),n=a(3998),l=a(11647),i=a(25667),c=a(14915);let o=i.bL,d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.B8,{ref:s,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});d.displayName=i.B8.displayName;let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.l9,{ref:s,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});m.displayName=i.l9.displayName;let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.UC,{ref:s,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});x.displayName=i.UC.displayName;var h=a(35626),u=a(20063),p=a(86948),j=a(80991),g=a(1524),f=a(26921),v=a(50906),b=a(39867),N=a(42529),y=a(52056),_=a(91761),w=a(19204),R=a(16485),k=function(e){return e.STRONG_BUY="STRONG_BUY",e.BUY="BUY",e.HOLD="HOLD",e.SELL="SELL",e.STRONG_SELL="STRONG_SELL",e}({}),C=function(e){return e.LOW="LOW",e.MODERATE="MODERATE",e.HIGH="HIGH",e.VERY_HIGH="VERY_HIGH",e}({}),A=function(e){return e.BULL="BULL",e.BEAR="BEAR",e.NEUTRAL="NEUTRAL",e.GROWTH="GROWTH",e.STRESS="STRESS",e}({});function S(e){let{analysis:s,onExport:a,onRunMonteCarlos:r,isExporting:i=!1}=e,{financial_metrics:o,cash_flows:d}=s,m=(0,c.TV)(s.investment_recommendation),x=d||[],h=x.reduce((e,s)=>e+s.net_cash_flow,0),u=x.length>0?h/x.length:0,A=x.length>1?(x[x.length-1].net_cash_flow-x[0].net_cash_flow)/x[0].net_cash_flow*100:0,S=e=>{let{title:s,value:a,subtitle:r,icon:n,trend:l,color:i="blue"}=e,o="up"===l?g.A:"down"===l?f.A:null;return(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:s}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(c.qd.primary," mt-1"),children:a}),r&&(0,t.jsxs)("div",{className:"flex items-center mt-2",children:[o&&(0,t.jsx)(o,{className:"h-3 w-3 mr-1 ".concat("up"===l?"text-green-600":"text-red-600")}),(0,t.jsx)("p",{className:"text-xs ".concat(c.qd.muted),children:r})]})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center ".concat({blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",red:"bg-red-50 text-red-600",amber:"bg-amber-50 text-amber-600"}[i]),children:(0,t.jsx)(n,{className:"h-6 w-6"})})]})})})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold ".concat(c.qd.primary),children:"DCF Analysis Results"}),(0,t.jsxs)("p",{className:"".concat(c.qd.muted," mt-1"),children:["Property ID: ",s.property_id," â€¢ Analyzed on ",new Date(s.analysis_date).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[r&&(0,t.jsxs)(n.$,{variant:"outline",onClick:r,children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Run Monte Carlo"]}),a&&(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>a("pdf"),disabled:i,children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"PDF"]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>a("excel"),disabled:i,children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Excel"]})]})]})]}),(0,t.jsx)(p.Zp,{className:m.bgColor,children:(0,t.jsx)(p.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center ".concat(m.bgColor),children:s.investment_recommendation===k.STRONG_BUY||s.investment_recommendation===k.BUY?(0,t.jsx)(N.A,{className:"h-6 w-6 ".concat(m.color)}):(0,t.jsx)(y.A,{className:"h-6 w-6 ".concat(m.color)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold ".concat(m.color),children:"Investment Recommendation"}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(m.color," mt-1"),children:m.label})]})]}),(0,t.jsxs)(l.E,{variant:"outline",className:"".concat((e=>{switch(e){case C.LOW:return"text-green-600 bg-green-50 border-green-200";case C.MODERATE:return"text-amber-600 bg-amber-50 border-amber-200";case C.HIGH:return"text-red-600 bg-red-50 border-red-200";case C.VERY_HIGH:return"text-red-700 bg-red-100 border-red-300";default:return"text-gray-600 bg-gray-50 border-gray-200"}})(o.risk_level)," border"),children:[o.risk_level.replace("_"," ")," Risk"]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(S,{title:"Net Present Value",value:(0,c.vv)(o.npv,{compact:!0}),subtitle:o.npv>0?"Positive NPV":"Negative NPV",icon:_.A,trend:o.npv>0?"up":"down",color:o.npv>0?"green":"red"}),(0,t.jsx)(S,{title:"Internal Rate of Return",value:(0,c.Ee)(o.irr/100),subtitle:"vs ".concat((0,c.Ee)(.08)," market avg"),icon:w.A,trend:o.irr>8?"up":"down",color:o.irr>8?"green":"red"}),(0,t.jsx)(S,{title:"Equity Multiple",value:"".concat(o.equity_multiple.toFixed(2),"x"),subtitle:"".concat((0,c.Ee)(o.total_return/100)," total return"),icon:g.A,trend:o.equity_multiple>2?"up":"down",color:o.equity_multiple>2?"green":"amber"}),(0,t.jsx)(S,{title:"Payback Period",value:"".concat(o.payback_period.toFixed(1)," yrs"),subtitle:"Time to recover investment",icon:R.A,trend:o.payback_period<10?"up":"down",color:o.payback_period<10?"green":"amber"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Investment Summary"}),(0,t.jsx)(p.BT,{children:"Key financial metrics and cash flow overview"})]}),(0,t.jsx)(p.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Total Cash Invested:"}),(0,t.jsx)("span",{className:"font-medium ".concat(c.qd.body),children:(0,c.vv)(o.total_cash_invested)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Total Proceeds:"}),(0,t.jsx)("span",{className:"font-medium ".concat(c.qd.body),children:(0,c.vv)(o.total_proceeds)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Terminal Value:"}),(0,t.jsx)("span",{className:"font-medium ".concat(c.qd.body),children:(0,c.vv)(o.terminal_value)})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Avg. Annual Return:"}),(0,t.jsx)("span",{className:"font-medium ".concat(c.qd.body),children:(0,c.Ee)(o.average_annual_return/100)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Total Cash Flow:"}),(0,t.jsx)("span",{className:"font-medium ".concat(c.qd.body),children:(0,c.vv)(h)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Cash Flow Growth:"}),(0,t.jsx)("span",{className:"font-medium ".concat(A>0?"text-green-600":"text-red-600"),children:(0,c.Ee)(A/100)})]})]})]})})]}),(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Analysis Details"}),(0,t.jsx)(p.BT,{children:"Property assumptions and calculation parameters"})]}),(0,t.jsx)(p.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Total Cash Invested:"}),(0,t.jsx)("span",{className:"font-medium ".concat(c.qd.body),children:(0,c.vv)(o.total_cash_invested)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Terminal Value:"}),(0,t.jsx)("span",{className:"font-medium ".concat(c.qd.body),children:(0,c.vv)(o.terminal_value)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Total Proceeds:"}),(0,t.jsx)("span",{className:"font-medium ".concat(c.qd.body),children:(0,c.vv)(o.total_proceeds)})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Analysis Period:"}),(0,t.jsxs)("span",{className:"font-medium ".concat(c.qd.body),children:[x.length," years"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Execution Time:"}),(0,t.jsxs)("span",{className:"font-medium ".concat(c.qd.body),children:[(1e3*s.metadata.processing_time_seconds).toFixed(0),"ms"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:c.qd.muted,children:"Analysis Status:"}),(0,t.jsx)(l.E,{variant:s.success?"success":"destructive",className:"text-xs",children:s.success?"Completed":"Failed"})]})]})]})})]})]}),(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Cash Flow Progression"}),(0,t.jsx)(p.BT,{children:"Year-over-year cash flow performance"})]}),(0,t.jsx)(p.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[x.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm font-medium ".concat(c.qd.secondary),children:["Year ",e.year]}),(0,t.jsx)("span",{className:"font-semibold ".concat(e.net_cash_flow>0?"text-green-600":"text-red-600"),children:(0,c.vv)(e.net_cash_flow)})]}),(0,t.jsx)(j.k,{value:Math.max(0,Math.min(100,e.net_cash_flow/u*50)),className:"h-2"})]},e.year)),x.length>3&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)(l.E,{variant:"outline",className:"text-xs",children:["+",x.length-3," more years"]})})]})})]})]})}let E=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,c.cn)("w-full caption-bottom text-sm",a),...r})})});E.displayName="Table";let q=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("thead",{ref:s,className:(0,c.cn)("[&_tr]:border-b",a),...r})});q.displayName="TableHeader";let T=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,c.cn)("[&_tr:last-child]:border-0",a),...r})});T.displayName="TableBody",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let M=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tr",{ref:s,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});M.displayName="TableRow";let F=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("th",{ref:s,className:(0,c.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});F.displayName="TableHead";let B=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("td",{ref:s,className:(0,c.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});B.displayName="TableCell",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("caption",{ref:s,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption";var P=a(24033),V=a(27937),L=a(33);function Z(e){let{projections:s,onExport:a,isExporting:i=!1}=e,[o,d]=(0,r.useState)(new Set),[m,x]=(0,r.useState)("net_cash_flow");return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold ".concat(c.qd.primary),children:"Cash Flow Projections"}),(0,t.jsxs)("p",{className:"text-sm ".concat(c.qd.muted," mt-1"),children:[s.length," year analysis period"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{d(new Set(s.map(e=>e.year)))},className:"text-xs",children:[(0,t.jsx)(P.A,{className:"h-3 w-3 mr-1"}),"Expand All"]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{d(new Set)},className:"text-xs",children:[(0,t.jsx)(V.A,{className:"h-3 w-3 mr-1"}),"Collapse All"]}),a&&(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>a("csv"),disabled:i,className:"text-xs",children:[(0,t.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"CSV"]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>a("excel"),disabled:i,className:"text-xs",children:[(0,t.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"Excel"]})]})]})]}),(0,t.jsxs)(p.Zp,{children:[(0,t.jsx)(p.aR,{className:"pb-3",children:(0,t.jsxs)(p.ZB,{className:"text-sm flex items-center",children:[(0,t.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Focus Metric"]})}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[{key:"gross_rental_income",label:"Gross Rental Income"},{key:"effective_gross_income",label:"Effective Gross Income"},{key:"operating_expenses",label:"Operating Expenses"},{key:"net_operating_income",label:"Net Operating Income"},{key:"debt_service",label:"Debt Service"},{key:"net_cash_flow",label:"Net Cash Flow"}].map(e=>(0,t.jsx)(l.E,{variant:m===e.key?"default":"outline",className:"cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>x(e.key),children:e.label},e.key))})})]}),(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(E,{children:[(0,t.jsx)(q,{children:(0,t.jsxs)(M,{className:"bg-gray-50",children:[(0,t.jsx)(F,{className:"w-20"}),(0,t.jsx)(F,{className:"font-semibold",children:"Year"}),(0,t.jsx)(F,{className:"font-semibold text-right",children:"Gross Rental Income"}),(0,t.jsx)(F,{className:"font-semibold text-right",children:"Effective Gross Income"}),(0,t.jsx)(F,{className:"font-semibold text-right",children:"Operating Expenses"}),(0,t.jsx)(F,{className:"font-semibold text-right",children:"Net Operating Income"}),(0,t.jsx)(F,{className:"font-semibold text-right",children:"Debt Service"}),(0,t.jsx)(F,{className:"font-semibold text-right",children:"Net Cash Flow"}),(0,t.jsx)(F,{className:"font-semibold text-center",children:"YoY Change"})]})}),(0,t.jsx)(T,{children:s.map((e,a)=>{let r=o.has(e.year),i=a>0?s[a-1]:null,x=i?((e,s)=>{if(0===s)return{percentage:0,trend:"neutral"};let a=(e-s)/Math.abs(s)*100;return{percentage:Math.abs(a),trend:a>0?"up":a<0?"down":"neutral"}})(e.net_cash_flow,i.net_cash_flow):{percentage:0,trend:"neutral"};return(0,t.jsxs)(M,{className:"hover:bg-gray-50 ".concat("net_cash_flow"!==m&&r?"bg-blue-50":""),children:[(0,t.jsx)(B,{children:(0,t.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{let s=new Set(o);s.has(e)?s.delete(e):s.add(e),d(s)})(e.year),className:"h-6 w-6 p-0",children:r?(0,t.jsx)(P.A,{className:"h-3 w-3"}):(0,t.jsx)(V.A,{className:"h-3 w-3"})})}),(0,t.jsx)(B,{className:"font-medium",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:e.year}),"net_cash_flow"!==m&&(0,t.jsx)(l.E,{variant:"secondary",className:"text-xs",children:"Focus"})]})}),(0,t.jsx)(B,{className:"text-right font-mono text-sm",children:(0,c.vv)(e.gross_rental_income)}),(0,t.jsx)(B,{className:"text-right font-mono text-sm",children:(0,c.vv)(e.effective_gross_income)}),(0,t.jsx)(B,{className:"text-right font-mono text-sm text-red-600",children:(0,c.vv)(e.operating_expenses)}),(0,t.jsx)(B,{className:"text-right font-mono text-sm font-semibold",children:(0,c.vv)(e.net_operating_income)}),(0,t.jsx)(B,{className:"text-right font-mono text-sm text-red-600",children:(0,c.vv)(e.debt_service)}),(0,t.jsx)(B,{className:"text-right font-mono text-sm font-bold ".concat(e.net_cash_flow>0?"text-green-600":"text-red-600"),children:(0,c.vv)(e.net_cash_flow)}),(0,t.jsx)(B,{className:"text-center",children:a>0&&(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(e=>{switch(e){case"up":return(0,t.jsx)(g.A,{className:"h-3 w-3 text-green-600"});case"down":return(0,t.jsx)(f.A,{className:"h-3 w-3 text-red-600"});default:return(0,t.jsx)("div",{className:"h-3 w-3"})}})(x.trend),(0,t.jsxs)("span",{className:"text-xs font-medium ".concat((e=>{switch(e){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}})(x.trend)),children:[x.percentage.toFixed(1),"%"]})]})})]},e.year)})})]})})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Total Cash Flow"}),(0,t.jsx)("p",{className:"text-xl font-bold ".concat(c.qd.primary," mt-1"),children:(0,c.vv)(s.reduce((e,s)=>e+s.net_cash_flow,0))})]}),(0,t.jsx)(_.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Average Annual CF"}),(0,t.jsx)("p",{className:"text-xl font-bold ".concat(c.qd.primary," mt-1"),children:(0,c.vv)(s.reduce((e,s)=>e+s.net_cash_flow,0)/s.length)})]}),(0,t.jsx)(L.A,{className:"h-8 w-8 text-green-600"})]})})}),(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"CF Growth Rate"}),(0,t.jsx)("p",{className:"text-xl font-bold ".concat(c.qd.primary," mt-1"),children:s.length>1?(0,c.Ee)((s[s.length-1].net_cash_flow-s[0].net_cash_flow)/Math.abs(s[0].net_cash_flow)/s.length):"0%"})]}),(0,t.jsx)(g.A,{className:"h-8 w-8 text-amber-600"})]})})})]})]})}var W=a(26991),D=a(98128),O=a(68425),z=a(47734),I=a(73697),G=a(23508),H=a(16533),Y=a(78765),U=a(12235),$=a(69386),J=a(89559),K=a(30814);function X(e){let{distribution:s,selectedMetric:a="npv"}=e;return(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{children:"Scenario Analysis Charts"}),(0,t.jsx)(p.BT,{children:"Advanced chart component temporarily simplified - requires refactoring for type safety"})]}),(0,t.jsx)(p.Wu,{children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"This component is being refactored for better type safety."}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[s.length," scenarios available for visualization"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected metric: ",a]})]})})]})}function Q(e){let{results:s,onRerun:a,onExport:i,isRunning:h=!1}=e,[u,j]=(0,r.useState)("npv"),f=s.percentiles,N=s.distribution,_=N.filter(e=>e.npv>0).length/N.length*100,w=N.map((e,s)=>({scenario:s+1,npv:e.npv,irr:e.irr,total_cash_flow:e.total_cash_flow,risk_score:e.risk_score})),R=(e,s)=>{switch(s){case"npv":case"total_cash_flow":return(0,c.vv)(e,{compact:!0});case"irr":return(0,c.Ee)(e/100);default:return e.toString()}},k=e=>{switch(e){case"npv":return"Net Present Value";case"irr":return"Internal Rate of Return";case"total_cash_flow":return"Total Cash Flow"}},C=e=>{switch(e.toLowerCase()){case"low":return"text-green-600 bg-green-50 border-green-200";case"moderate":return"text-amber-600 bg-amber-50 border-amber-200";case"high":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},A=[{name:"Low Risk",value:s.risk_distribution.low,color:"#10B981"},{name:"Moderate Risk",value:s.risk_distribution.moderate,color:"#F59E0B"},{name:"High Risk",value:s.risk_distribution.high,color:"#EF4444"}].filter(e=>e.value>0),S=(e=>{let s=w.map(s=>s[e]),a=Math.min(...s),t=(Math.max(...s)-a)/20;return Array.from({length:20},(r,n)=>{let l=a+n*t,i=a+(n+1)*t,c=s.filter(e=>e>=l&&e<i).length;return{range:"".concat(R(l,e)," - ").concat(R(i,e)),count:c,probability:c/s.length*100,midpoint:(l+i)/2}})})(u);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold ".concat(c.qd.primary),children:"Monte Carlo Simulation Results"}),(0,t.jsxs)("p",{className:"text-sm ".concat(c.qd.muted," mt-1"),children:["Analysis of ",s.total_scenarios.toLocaleString()," scenarios â€¢ Run time: ",s.execution_time_ms,"ms"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[a&&(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:a,disabled:h,className:"flex items-center space-x-2",children:[h?(0,t.jsx)(v.A,{className:"h-4 w-4 animate-pulse"}):(0,t.jsx)(J.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:h?"Running...":"Rerun"})]}),i&&(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>i("pdf"),className:"text-xs",children:[(0,t.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"PDF"]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>i("excel"),className:"text-xs",children:[(0,t.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"Excel"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Success Probability"}),(0,t.jsxs)("p",{className:"text-2xl font-bold ".concat(_>70?"text-green-600":_>40?"text-amber-600":"text-red-600"," mt-1"),children:[_.toFixed(1),"%"]}),(0,t.jsx)("p",{className:"text-xs ".concat(c.qd.muted," mt-1"),children:"Positive NPV scenarios"})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center ".concat(_>70?"bg-green-50":_>40?"bg-amber-50":"bg-red-50"),children:(0,t.jsx)(K.A,{className:"h-6 w-6 ".concat(_>70?"text-green-600":_>40?"text-amber-600":"text-red-600")})})]})})}),(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Expected NPV"}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(c.qd.primary," mt-1"),children:(0,c.vv)(f.npv.median,{compact:!0})}),(0,t.jsx)("p",{className:"text-xs ".concat(c.qd.muted," mt-1"),children:"Median value"})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,t.jsx)(g.A,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Risk Level"}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(c.qd.primary," mt-1"),children:s.overall_risk_assessment}),(0,t.jsx)("p",{className:"text-xs ".concat(c.qd.muted," mt-1"),children:"Overall assessment"})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center ".concat(C(s.overall_risk_assessment).split(" ")[1]),children:(0,t.jsx)(y.A,{className:"h-6 w-6 ".concat(C(s.overall_risk_assessment).split(" ")[0])})})]})})})]}),(0,t.jsxs)(o,{defaultValue:"distribution",className:"w-full",children:[(0,t.jsxs)(d,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(m,{value:"distribution",children:"Distribution"}),(0,t.jsx)(m,{value:"percentiles",children:"Percentiles"}),(0,t.jsx)(m,{value:"risk",children:"Risk Analysis"}),(0,t.jsx)(m,{value:"scenarios",children:"Scenarios"})]}),(0,t.jsx)(x,{value:"distribution",className:"space-y-6 mt-6",children:(0,t.jsxs)(p.Zp,{children:[(0,t.jsx)(p.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Probability Distribution"}),(0,t.jsxs)(p.BT,{children:["Distribution of ",k(u)," across all scenarios"]})]}),(0,t.jsx)("div",{className:"flex space-x-2",children:["npv","irr","total_cash_flow"].map(e=>(0,t.jsx)(l.E,{variant:u===e?"default":"outline",className:"cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>j(e),children:k(e)},e))})]})}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(W.u,{width:"100%",height:"100%",children:(0,t.jsxs)(D.E,{data:S,children:[(0,t.jsx)(O.d,{strokeDasharray:"3 3"}),(0,t.jsx)(z.W,{dataKey:"midpoint",tickFormatter:e=>R(e,u),angle:-45,textAnchor:"end",height:80}),(0,t.jsx)(I.h,{label:{value:"Probability (%)",angle:-90,position:"insideLeft"}}),(0,t.jsx)(G.m,{formatter:e=>["".concat("number"==typeof e?e.toFixed(1):e,"%"),"Probability"],labelFormatter:e=>"Range: ".concat(R(e,u))}),(0,t.jsx)(H.y,{dataKey:"probability",fill:"#3B82F6",fillOpacity:.7,stroke:"#1E40AF",strokeWidth:1})]})})})})]})}),(0,t.jsx)(x,{value:"percentiles",className:"space-y-6 mt-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(p.Zp,{children:[(0,t.jsx)(p.aR,{children:(0,t.jsxs)(p.ZB,{className:"text-lg flex items-center",children:[(0,t.jsx)(g.A,{className:"h-5 w-5 mr-2 text-green-600"}),"NPV Percentiles"]})}),(0,t.jsx)(p.Wu,{className:"space-y-4",children:Object.entries(f.npv).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm font-medium ".concat(c.qd.secondary," capitalize"),children:["p5"===s?"5th":"p25"===s?"25th":"p75"===s?"75th":"p95"===s?"95th":s," Percentile"]}),(0,t.jsx)("span",{className:"font-mono text-sm ".concat(c.qd.body),children:(0,c.vv)(a)})]},s)})})]}),(0,t.jsxs)(p.Zp,{children:[(0,t.jsx)(p.aR,{children:(0,t.jsxs)(p.ZB,{className:"text-lg flex items-center",children:[(0,t.jsx)(L.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"IRR Percentiles"]})}),(0,t.jsx)(p.Wu,{className:"space-y-4",children:Object.entries(f.irr).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm font-medium ".concat(c.qd.secondary," capitalize"),children:["p5"===s?"5th":"p25"===s?"25th":"p75"===s?"75th":"p95"===s?"95th":s," Percentile"]}),(0,t.jsx)("span",{className:"font-mono text-sm ".concat(c.qd.body),children:(0,c.Ee)(a/100)})]},s)})})]}),(0,t.jsxs)(p.Zp,{children:[(0,t.jsx)(p.aR,{children:(0,t.jsxs)(p.ZB,{className:"text-lg flex items-center",children:[(0,t.jsx)(v.A,{className:"h-5 w-5 mr-2 text-amber-600"}),"Cash Flow Percentiles"]})}),(0,t.jsx)(p.Wu,{className:"space-y-4",children:Object.entries(f.total_cash_flow).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm font-medium ".concat(c.qd.secondary," capitalize"),children:["p5"===s?"5th":"p25"===s?"25th":"p75"===s?"75th":"p95"===s?"95th":s," Percentile"]}),(0,t.jsx)("span",{className:"font-mono text-sm ".concat(c.qd.body),children:(0,c.vv)(a)})]},s)})})]})]})}),(0,t.jsx)(x,{value:"risk",className:"space-y-6 mt-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Risk Distribution"}),(0,t.jsx)(p.BT,{children:"Breakdown of scenarios by risk level"})]}),(0,t.jsxs)(p.Wu,{children:[(0,t.jsx)("div",{className:"h-64",children:(0,t.jsx)(W.u,{width:"100%",height:"100%",children:(0,t.jsxs)(Y.r,{children:[(0,t.jsx)(U.F,{data:A,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:A.map((e,s)=>(0,t.jsx)($.f,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(G.m,{formatter:e=>"".concat(e," scenarios")})]})})}),(0,t.jsx)("div",{className:"flex justify-center space-x-4 mt-4",children:A.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.name,": ",e.value]})]},e.name))})]})]}),(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Risk Metrics"}),(0,t.jsx)(p.BT,{children:"Key risk indicators and probabilities"})]}),(0,t.jsx)(p.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium ".concat(c.qd.secondary),children:"Value at Risk (5%)"}),(0,t.jsx)("span",{className:"font-mono text-sm ".concat(c.qd.body),children:(0,c.vv)(f.npv.p5)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium ".concat(c.qd.secondary),children:"Expected Shortfall"}),(0,t.jsx)("span",{className:"font-mono text-sm ".concat(c.qd.body),children:(0,c.vv)(Math.min(...w.map(e=>e.npv)))})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium ".concat(c.qd.secondary),children:"Probability of Loss"}),(0,t.jsxs)("span",{className:"font-mono text-sm ".concat(c.qd.body),children:[(100-_).toFixed(1),"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium ".concat(c.qd.secondary),children:"Maximum Potential Loss"}),(0,t.jsx)("span",{className:"font-mono text-sm text-red-600",children:(0,c.vv)(Math.min(...w.map(e=>e.npv)))})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium ".concat(c.qd.secondary),children:"Maximum Potential Gain"}),(0,t.jsx)("span",{className:"font-mono text-sm text-green-600",children:(0,c.vv)(Math.max(...w.map(e=>e.npv)))})]})]})})]})]})}),(0,t.jsx)(x,{value:"scenarios",className:"space-y-6 mt-6",children:(0,t.jsx)(X,{distribution:N,selectedMetric:u})})]})]})}var ee=a(65142),es=a(76444),ea=a(15870),et=a(85921),er=a(56154),en=a(6132),el=a(23327);let ei=[{name:"interest_rate",label:"Interest Rate",baseValue:6.5,minValue:3,maxValue:12,stepSize:.1,unit:"%",description:"Mortgage interest rate affecting debt service payments",category:"financing",importance:"high"},{name:"cap_rate",label:"Cap Rate",baseValue:5.5,minValue:3,maxValue:10,stepSize:.1,unit:"%",description:"Capitalization rate for terminal value calculation",category:"market",importance:"high"},{name:"vacancy_rate",label:"Vacancy Rate",baseValue:5,minValue:2,maxValue:15,stepSize:.5,unit:"%",description:"Expected vacancy rate affecting rental income",category:"market",importance:"high"},{name:"rent_growth_rate",label:"Rent Growth Rate",baseValue:3,minValue:0,maxValue:8,stepSize:.1,unit:"%/year",description:"Annual rental income growth rate",category:"market",importance:"high"},{name:"expense_growth_rate",label:"Expense Growth Rate",baseValue:2.5,minValue:0,maxValue:6,stepSize:.1,unit:"%/year",description:"Annual operating expense growth rate",category:"property",importance:"medium"},{name:"property_growth_rate",label:"Property Appreciation",baseValue:2.5,minValue:-2,maxValue:8,stepSize:.1,unit:"%/year",description:"Annual property value appreciation rate",category:"property",importance:"medium"},{name:"ltv_ratio",label:"Loan-to-Value Ratio",baseValue:75,minValue:50,maxValue:90,stepSize:1,unit:"%",description:"Financing percentage of property value",category:"financing",importance:"medium"},{name:"closing_costs_pct",label:"Closing Costs",baseValue:3,minValue:1.5,maxValue:5,stepSize:.1,unit:"%",description:"Transaction costs as percentage of property value",category:"property",importance:"low"}];function ec(e){let{parameters:s=ei,configuration:a,onConfigurationChange:i,onRunSimulation:h,isRunning:u=!1,disabled:j=!1}=e,[f,v]=(0,r.useState)("parameters"),[b,N]=(0,r.useState)([]),y=(0,r.useCallback)((e,s)=>{i({...a,parameters:{...a.parameters,[e]:{...a.parameters[e],...s}}})},[a,i]),_=(0,r.useCallback)((e,s)=>{i({...a,[e]:s})},[a,i]),w=(0,r.useCallback)(()=>{let e=[];a.scenarioCount<10&&e.push("Scenario count should be at least 10 for statistical validity"),a.scenarioCount>1e4&&e.push("Scenario count above 10,000 may cause performance issues");let t=Object.entries(a.parameters).filter(e=>{let[s,a]=e;return a.enabled});return 0===t.length&&e.push("At least one parameter must be enabled for sensitivity analysis"),t.forEach(a=>{let[t,r]=a;if(r.variationRange<=0){let a=s.find(e=>e.name===t);e.push("".concat((null==a?void 0:a.label)||t," variation range must be greater than 0"))}if(r.variationRange>50){let a=s.find(e=>e.name===t);e.push("".concat((null==a?void 0:a.label)||t," variation range above 50% may be unrealistic"))}}),e},[a,s]),R=(0,r.useCallback)(()=>{let e=w();N(e),0===e.length&&h(a)},[a,h,w]),k=e=>s.filter(s=>s.category===e),C=Object.values(a.parameters).filter(e=>e.enabled).length,A=Object.entries(a.parameters).filter(e=>{let[s,a]=e;return a.enabled}).reduce((e,a)=>{let[t,r]=a,n=s.find(e=>e.name===t),l=(null==n?void 0:n.importance)==="high"?3:(null==n?void 0:n.importance)==="medium"?2:1;return e+r.variationRange*l},0),S=e=>{let{parameter:s}=e,r=a.parameters[s.name]||{enabled:!1,variationRange:10,distributionType:"normal"};return(0,t.jsx)(p.Zp,{className:"transition-all ".concat(r.enabled?"ring-2 ring-blue-200 bg-blue-50":""),children:(0,t.jsxs)(p.Wu,{className:"p-4",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,t.jsx)("input",{type:"checkbox",id:"param-".concat(s.name),checked:r.enabled,onChange:e=>y(s.name,{enabled:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:j}),(0,t.jsx)(es.J,{htmlFor:"param-".concat(s.name),className:"font-medium ".concat(c.qd.primary),children:s.label}),(0,t.jsx)(l.E,{variant:"outline",className:"text-xs ".concat((e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-amber-600 bg-amber-50 border-amber-200";case"low":return"text-green-600 bg-green-50 border-green-200"}})(s.importance)),children:s.importance})]}),(0,t.jsx)("p",{className:"text-xs ".concat(c.qd.muted," mb-2"),children:s.description}),(0,t.jsxs)("p",{className:"text-xs font-mono ".concat(c.qd.secondary),children:["Base: ",s.baseValue,s.unit,"(Range: ",s.minValue," - ",s.maxValue,s.unit,")"]})]})}),r.enabled&&(0,t.jsxs)("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(es.J,{htmlFor:"variation-".concat(s.name),className:"text-xs font-medium",children:"Variation Range (\xb1%)"}),(0,t.jsx)(ee.p,{id:"variation-".concat(s.name),type:"number",min:"1",max:"50",step:"1",value:r.variationRange,onChange:e=>y(s.name,{variationRange:Number(e.target.value)}),className:"text-sm",disabled:j})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(es.J,{htmlFor:"distribution-".concat(s.name),className:"text-xs font-medium",children:"Distribution Type"}),(0,t.jsxs)("select",{id:"distribution-".concat(s.name),value:r.distributionType,onChange:e=>y(s.name,{distributionType:e.target.value}),className:"w-full text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:j,children:[(0,t.jsx)("option",{value:"normal",children:"Normal"}),(0,t.jsx)("option",{value:"uniform",children:"Uniform"}),(0,t.jsx)("option",{value:"triangular",children:"Triangular"})]})]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:["Range: ",(s.baseValue*(1-r.variationRange/100)).toFixed(2)," - ",(s.baseValue*(1+r.variationRange/100)).toFixed(2),s.unit]})]})]})})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold ".concat(c.qd.primary," flex items-center"),children:[(0,t.jsx)(ea.A,{className:"h-5 w-5 mr-2"}),"Sensitivity Analysis Configuration"]}),(0,t.jsx)("p",{className:"text-sm ".concat(c.qd.muted," mt-1"),children:"Configure parameters and scenarios for Monte Carlo simulation"})]}),(0,t.jsxs)(n.$,{onClick:R,disabled:j||u||b.length>0,className:"flex items-center space-x-2",children:[u?(0,t.jsx)(J.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(et.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:u?"Running...":"Run Simulation"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Enabled Parameters"}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(c.qd.primary," mt-1"),children:C})]}),(0,t.jsx)(K.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Scenarios"}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(c.qd.primary," mt-1"),children:a.scenarioCount.toLocaleString()})]}),(0,t.jsx)(L.A,{className:"h-8 w-8 text-green-600"})]})})}),(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Correlation Strength"}),(0,t.jsxs)("p",{className:"text-2xl font-bold ".concat(c.qd.primary," mt-1"),children:[(100*a.correlationStrength).toFixed(0),"%"]})]}),(0,t.jsx)(g.A,{className:"h-8 w-8 text-amber-600"})]})})}),(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(c.qd.muted),children:"Impact Score"}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(c.qd.primary," mt-1"),children:A.toFixed(0)})]}),(0,t.jsx)(er.A,{className:"h-8 w-8 text-purple-600"})]})})})]}),b.length>0&&(0,t.jsx)(p.Zp,{className:"border-red-200 bg-red-50",children:(0,t.jsx)(p.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,t.jsx)(en.A,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-red-900 mb-2",children:"Configuration Issues"}),(0,t.jsx)("ul",{className:"text-sm text-red-800 space-y-1",children:b.map((e,s)=>(0,t.jsxs)("li",{children:["â€¢ ",e]},s))})]})]})})}),(0,t.jsxs)(o,{value:f,onValueChange:v,className:"w-full",children:[(0,t.jsxs)(d,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(m,{value:"parameters",children:"Parameters"}),(0,t.jsx)(m,{value:"scenarios",children:"Scenarios"}),(0,t.jsx)(m,{value:"correlations",children:"Correlations"})]}),(0,t.jsxs)(x,{value:"parameters",className:"space-y-6 mt-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold ".concat(c.qd.primary," mb-4 flex items-center"),children:[(0,t.jsx)(g.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"Market Parameters"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:k("market").map(e=>(0,t.jsx)(S,{parameter:e},e.name))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold ".concat(c.qd.primary," mb-4 flex items-center"),children:[(0,t.jsx)(K.A,{className:"h-5 w-5 mr-2 text-green-600"}),"Property Parameters"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:k("property").map(e=>(0,t.jsx)(S,{parameter:e},e.name))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold ".concat(c.qd.primary," mb-4 flex items-center"),children:[(0,t.jsx)(L.A,{className:"h-5 w-5 mr-2 text-amber-600"}),"Financing Parameters"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:k("financing").map(e=>(0,t.jsx)(S,{parameter:e},e.name))})]})]}),(0,t.jsx)(x,{value:"scenarios",className:"space-y-6 mt-6",children:(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Simulation Settings"}),(0,t.jsx)(p.BT,{children:"Configure the number of scenarios and simulation parameters"})]}),(0,t.jsx)(p.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(es.J,{htmlFor:"scenario-count",className:"text-sm font-medium",children:"Number of Scenarios"}),(0,t.jsx)(ee.p,{id:"scenario-count",type:"number",min:"10",max:"10000",step:"50",value:a.scenarioCount,onChange:e=>_("scenarioCount",Number(e.target.value)),disabled:j}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Recommended: 500-1000 for balanced accuracy and performance"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(es.J,{htmlFor:"correlation-strength",className:"text-sm font-medium",children:"Correlation Strength (0-1)"}),(0,t.jsx)(ee.p,{id:"correlation-strength",type:"number",min:"0",max:"1",step:"0.1",value:a.correlationStrength,onChange:e=>_("correlationStrength",Number(e.target.value)),disabled:j}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Higher values increase parameter correlation effects"})]})]})})]})}),(0,t.jsx)(x,{value:"correlations",className:"space-y-6 mt-6",children:(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsxs)(p.ZB,{className:"text-lg flex items-center",children:[(0,t.jsx)(el.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"Parameter Correlations"]}),(0,t.jsx)(p.BT,{children:"Understanding how parameters interact in the simulation"})]}),(0,t.jsx)(p.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Positive Correlations"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Interest Rate â†” Cap Rate (credit market conditions)"}),(0,t.jsx)("li",{children:"â€¢ Rent Growth â†” Property Appreciation (market demand)"}),(0,t.jsx)("li",{children:"â€¢ Expense Growth â†” Inflation (operating cost pressure)"})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-amber-50 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-amber-900 mb-2",children:"Negative Correlations"}),(0,t.jsxs)("ul",{className:"text-sm text-amber-800 space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Interest Rate â†” Property Value (financing cost impact)"}),(0,t.jsx)("li",{children:"â€¢ Vacancy Rate â†” Rent Growth (supply/demand balance)"}),(0,t.jsx)("li",{children:"â€¢ Cap Rate â†” Property Appreciation (yield compression)"})]})]}),(0,t.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Note:"})," The correlation strength setting (0-1) controls how strongly these relationships influence the simulation. Higher values create more realistic but potentially more extreme scenarios."]})})]})})]})})]})]})}var eo=a(80019),ed=a(7620),em=a(47643),ex=a(21873),eh=a(86651),eu=a(63581);let ep=[{msa_code:"NYC",name:"New York-Newark-Jersey City",state:"NY-NJ-PA",population:0x13351b6,median_income:82600,unemployment_rate:4.1,major_cities:["New York","Newark","Jersey City"],market_tier:"primary"},{msa_code:"LAX",name:"Los Angeles-Long Beach-Anaheim",state:"CA",population:0xc9a44f,median_income:71500,unemployment_rate:4.8,major_cities:["Los Angeles","Long Beach","Anaheim"],market_tier:"primary"},{msa_code:"CHI",name:"Chicago-Naperville-Elgin",state:"IL-IN-WI",population:9618502,median_income:68800,unemployment_rate:4.2,major_cities:["Chicago","Naperville","Elgin"],market_tier:"primary"},{msa_code:"DC",name:"Washington-Arlington-Alexandria",state:"DC-VA-MD-WV",population:6385162,median_income:98500,unemployment_rate:3.5,major_cities:["Washington","Arlington","Alexandria"],market_tier:"primary"},{msa_code:"MIA",name:"Miami-Fort Lauderdale-West Palm Beach",state:"FL",population:6166488,median_income:58900,unemployment_rate:3.8,major_cities:["Miami","Fort Lauderdale","West Palm Beach"],market_tier:"secondary"}],ej=[{name:"interest_rate",label:"Interest Rate",unit:"%",category:"rates",importance:"high",description:"Current mortgage interest rates"},{name:"cap_rate",label:"Cap Rate",unit:"%",category:"rates",importance:"high",description:"Capitalization rates for commercial real estate"},{name:"vacancy_rate",label:"Vacancy Rate",unit:"%",category:"ratios",importance:"high",description:"Rental property vacancy rates"},{name:"rent_growth_rate",label:"Rent Growth",unit:"%/year",category:"growth",importance:"high",description:"Annual rental income growth rates"},{name:"property_growth_rate",label:"Property Appreciation",unit:"%/year",category:"growth",importance:"medium",description:"Annual property value appreciation"},{name:"expense_growth_rate",label:"Expense Growth",unit:"%/year",category:"growth",importance:"medium",description:"Operating expense inflation rates"}];function eg(e){let{selectedMSA:s="NYC",onMSAChange:a,onDataExport:i,isLoading:o=!1}=e,[d,m]=(0,r.useState)(""),[x,h]=(0,r.useState)(["interest_rate","cap_rate","vacancy_rate"]),[u,j]=(0,r.useState)("1y"),[v,N]=(0,r.useState)("overview"),y=(0,r.useMemo)(()=>d?ep.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.msa_code.toLowerCase().includes(d.toLowerCase())||e.major_cities.some(e=>e.toLowerCase().includes(d.toLowerCase()))):ep,[d]),_=ep.find(e=>e.msa_code===s)||ep[0],w=(0,r.useMemo)(()=>{let e={};return x.forEach(a=>{e[a]=((e,s)=>{let a=[],t={interest_rate:6.5,cap_rate:5.5,vacancy_rate:5,rent_growth_rate:3,property_growth_rate:2.5,expense_growth_rate:2.8}[s]||5;for(let r=0;r<36;r++){let n=new Date;n.setMonth(n.getMonth()-(35-r));let l=t+(Math.random()-.5)*2+(s.includes("growth")?.1:-.05)*r/12;a.push({msa_code:e,parameter_name:s,value:Math.max(0,l),date:n.toISOString().split("T")[0],source:"FRED",confidence_level:.85+.1*Math.random()})}return a})(s,a)}),e},[s,x]),R=(0,r.useMemo)(()=>{var e;let s="6m"===u?6:"1y"===u?12:"2y"===u?24:36;return 0===x.length?[]:((null==(e=w[x[0]])?void 0:e.slice(-s))||[]).map(e=>{let s={date:e.date,month:new Date(e.date).toLocaleDateString("en-US",{month:"short",year:"2-digit"})};return x.forEach(a=>{var t;let r=null==(t=w[a])?void 0:t.find(s=>s.date===e.date);r&&(s[a]=r.value)}),s})},[w,x,u]),k=(0,r.useCallback)(e=>{null==a||a(e)},[a]),C=(0,r.useCallback)(e=>{h(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),A=(0,r.useCallback)(e=>{null==i||i(e,{msa:_,parameters:x,data:w,timeRange:u})},[_,x,w,u,i]),S=(e,s)=>{let a=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];return a[s%a.length]},E=e=>{switch(e){case"primary":return"text-green-700 bg-green-100 border-green-200";case"secondary":return"text-blue-700 bg-blue-100 border-blue-200";case"tertiary":return"text-amber-700 bg-amber-100 border-amber-200"}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold ".concat(c.qd.primary," flex items-center"),children:[(0,t.jsx)(ex.A,{className:"h-5 w-5 mr-2"}),"Market Data Explorer"]}),(0,t.jsx)("p",{className:"text-sm ".concat(c.qd.muted," mt-1"),children:"Explore real estate market data across major metropolitan areas"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>A("csv"),disabled:o||0===x.length,children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"CSV"]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>A("excel"),disabled:o||0===x.length,children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Excel"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Select Market"}),(0,t.jsx)(p.BT,{children:"Choose a metropolitan statistical area to explore"})]}),(0,t.jsxs)(p.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eh.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(ee.p,{placeholder:"Search MSAs...",value:d,onChange:e=>m(e.target.value),className:"pl-10"})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:y.map(e=>(0,t.jsxs)("div",{onClick:()=>k(e.msa_code),className:"p-3 rounded-lg border cursor-pointer transition-colors ".concat(s===e.msa_code?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.msa_code}),(0,t.jsx)(l.E,{variant:"outline",className:"text-xs ".concat(E(e.market_tier)),children:e.market_tier})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Pop: ",(e.population/1e6).toFixed(1),"M â€¢ Income: ",(0,c.vv)(e.median_income)]})]},e.msa_code))})]})]}),(0,t.jsxs)(p.Zp,{className:"lg:col-span-2",children:[(0,t.jsx)(p.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:_.name}),(0,t.jsx)(p.BT,{children:_.state})]}),(0,t.jsxs)(l.E,{variant:"outline",className:"".concat(E(_.market_tier)),children:[_.market_tier," market"]})]})}),(0,t.jsx)(p.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Population"}),(0,t.jsxs)("p",{className:"font-semibold",children:[(_.population/1e6).toFixed(1),"M"]})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Median Income"}),(0,t.jsx)("p",{className:"font-semibold",children:(0,c.vv)(_.median_income)})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Unemployment"}),(0,t.jsxs)("p",{className:"font-semibold",children:[_.unemployment_rate,"%"]})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Major Cities"}),(0,t.jsx)("p",{className:"font-semibold text-xs",children:_.major_cities.slice(0,2).join(", ")})]})]})})]})]}),(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsxs)(p.ZB,{className:"text-lg flex items-center",children:[(0,t.jsx)(eu.A,{className:"h-5 w-5 mr-2"}),"Market Parameters"]}),(0,t.jsx)(p.BT,{children:"Select parameters to visualize and analyze"})]}),(0,t.jsxs)(p.Wu,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ej.map((e,s)=>{let a=x.includes(e.name),r=(e=>{let s=w[e];return s&&0!==s.length?s[s.length-1]:null})(e.name),n=(e=>{let s=w[e];if(!s||s.length<2)return"neutral";let a=s[s.length-1].value,t=s[s.length-2].value;return a>1.01*t?"up":a<.99*t?"down":"neutral"})(e.name);return(0,t.jsxs)("div",{onClick:()=>C(e.name),className:"p-3 rounded-lg border cursor-pointer transition-all ".concat(a?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a?S(e.name,s):"#E5E7EB"}}),(0,t.jsx)("span",{className:"font-medium text-sm",children:e.label})]}),"neutral"!==n&&(0,t.jsx)("div",{className:"text-xs ".concat("up"===n?"text-green-600":"text-red-600"),children:"up"===n?(0,t.jsx)(g.A,{className:"h-3 w-3"}):(0,t.jsx)(f.A,{className:"h-3 w-3"})})]}),r&&(0,t.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:["Current: ",r.value.toFixed(2),e.unit]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]},e.name)})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(es.J,{className:"text-sm font-medium",children:"Time Range:"}),(0,t.jsx)("div",{className:"flex space-x-1",children:["6m","1y","2y","3y"].map(e=>(0,t.jsx)(n.$,{variant:u===e?"default":"outline",size:"sm",onClick:()=>j(e),className:"text-xs",children:e},e))})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[x.length," parameter",1!==x.length?"s":""," selected"]})]})]})]}),x.length>0&&(0,t.jsxs)(p.Zp,{children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-lg",children:"Market Trends"}),(0,t.jsxs)(p.BT,{children:["Historical data for ",_.name," over the past ",u]})]}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)("div",{className:"h-96",children:(0,t.jsx)(W.u,{width:"100%",height:"100%",children:(0,t.jsxs)(eo.b,{data:R,children:[(0,t.jsx)(O.d,{strokeDasharray:"3 3"}),(0,t.jsx)(z.W,{dataKey:"month",tick:{fontSize:12}}),(0,t.jsx)(I.h,{tick:{fontSize:12},tickFormatter:e=>"".concat(e.toFixed(1),"%")}),(0,t.jsx)(G.m,{formatter:(e,s)=>{var a,t;return["".concat(e.toFixed(2)).concat((null==(a=ej.find(e=>e.name===s))?void 0:a.unit)||"%"),(null==(t=ej.find(e=>e.name===s))?void 0:t.label)||s]},labelFormatter:e=>"Date: ".concat(e)}),(0,t.jsx)(ed.s,{}),x.map((e,s)=>{var a;return(0,t.jsx)(em.N,{type:"monotone",dataKey:e,stroke:S(e,s),strokeWidth:2,dot:{fill:S(e,s),strokeWidth:2,r:3},activeDot:{r:5},name:(null==(a=ej.find(s=>s.name===e))?void 0:a.label)||e},e)})]})})})})]}),0===x.length&&(0,t.jsx)(p.Zp,{children:(0,t.jsx)(p.Wu,{className:"py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(L.A,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Parameters to View Data"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Choose one or more market parameters above to visualize historical trends and current market conditions."})]})})})]})}let ef={property_id:"DEMO-001",analysis_date:new Date().toISOString(),success:!0,request_id:"req-demo-001",investment_recommendation:k.STRONG_BUY,financial_metrics:{npv:7847901,irr:64.8,equity_multiple:9.79,total_return:879.2,payback_period:3.2,average_annual_return:28.4,risk_level:C.MODERATE,total_cash_invested:875e3,total_proceeds:8570432,terminal_value:6234567},cash_flows:[{year:1,gross_rental_income:36e4,vacancy_loss:18e3,effective_gross_income:342e3,operating_expenses:108e3,net_operating_income:234e3,debt_service:156e3,net_cash_flow:78e3,cumulative_cash_flow:78e3},{year:2,gross_rental_income:378e3,vacancy_loss:18900,effective_gross_income:359100,operating_expenses:113400,net_operating_income:245700,debt_service:156e3,net_cash_flow:89700,cumulative_cash_flow:167700},{year:3,gross_rental_income:396900,vacancy_loss:19845,effective_gross_income:377055,operating_expenses:119007,net_operating_income:258048,debt_service:156e3,net_cash_flow:102048,cumulative_cash_flow:269748},{year:4,gross_rental_income:416745,vacancy_loss:20837,effective_gross_income:395908,operating_expenses:124957,net_operating_income:270951,debt_service:156e3,net_cash_flow:114951,cumulative_cash_flow:384699},{year:5,gross_rental_income:437582,vacancy_loss:21879,effective_gross_income:415703,operating_expenses:131205,net_operating_income:284498,debt_service:156e3,net_cash_flow:128498,cumulative_cash_flow:513197},{year:6,gross_rental_income:459461,vacancy_loss:22973,effective_gross_income:436488,operating_expenses:137765,net_operating_income:298723,debt_service:156e3,net_cash_flow:142723,cumulative_cash_flow:655920}],dcf_assumptions:{interest_rate:.075,cap_rate:.055,vacancy_rate:.05,rent_growth_rate:.035,expense_growth_rate:.025,property_growth_rate:.03,ltv_ratio:.75,closing_costs_pct:.03,lender_reserves_pct:.01},metadata:{processing_time_seconds:1.247,dcf_engine_version:"1.6.0",analysis_timestamp:new Date().toISOString(),data_sources:{market_data:"FRED Economic Data",property_data:"MSA Property Database"},assumptions_summary:{forecast_horizon:"6 years",monte_carlo_scenarios:"500",confidence_level:"95%"}}},ev={simulation_id:"MC-DEMO-001",property_id:"DEMO-001",total_scenarios:500,execution_time_ms:3247,success:!0,scenarios:[],statistics:{npv_stats:{mean:72e5,median:71e5,std_dev:28e5,min:12e5,max:156e5,percentile_5:28e5,percentile_25:54e5,percentile_75:92e5,percentile_95:128e5},irr_stats:{mean:58.2,median:56.8,std_dev:28.4,min:8.2,max:125.6,percentile_5:18.4,percentile_25:35.6,percentile_75:78.2,percentile_95:108.4},risk_metrics:{probability_of_loss:12.4,value_at_risk_5pct:28e5,expected_shortfall:185e4}},percentiles:{npv:{p5:28e5,p25:54e5,median:71e5,p75:92e5,p95:128e5},irr:{p5:18.4,p25:35.6,median:56.8,p75:78.2,p95:108.4},total_cash_flow:{p5:42e4,p25:68e4,median:89e4,p75:115e4,p95:142e4}},distribution:Array.from({length:100},(e,s)=>({scenario_id:s+1,npv:3e6+1e7*Math.random(),irr:20+80*Math.random(),total_cash_flow:5e5+1e6*Math.random(),risk_score:Math.random(),market_classification:[A.BULL,A.BEAR,A.NEUTRAL,A.GROWTH,A.STRESS][Math.floor(5*Math.random())]})),risk_distribution:{low:156,moderate:267,high:77},overall_risk_assessment:"Moderate"},eb={scenarioCount:500,correlationStrength:.7,parameters:{interest_rate:{enabled:!0,variationRange:15,distributionType:"normal"},cap_rate:{enabled:!0,variationRange:20,distributionType:"normal"},vacancy_rate:{enabled:!0,variationRange:25,distributionType:"uniform"},rent_growth_rate:{enabled:!0,variationRange:30,distributionType:"triangular"},expense_growth_rate:{enabled:!1,variationRange:10,distributionType:"normal"},property_growth_rate:{enabled:!1,variationRange:15,distributionType:"normal"},ltv_ratio:{enabled:!1,variationRange:5,distributionType:"uniform"},closing_costs_pct:{enabled:!1,variationRange:10,distributionType:"normal"}}};function eN(){let e=(0,u.useRouter)(),[s,a]=(0,r.useState)("overview"),[i,p]=(0,r.useState)(!1),[j,g]=(0,r.useState)(eb),f=async e=>{p(!0),await new Promise(e=>setTimeout(e,2e3)),p(!1)},v=()=>{};return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:()=>e.push("/analysis"),className:"flex items-center space-x-2",children:[(0,t.jsx)(h.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Back to Analysis"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold ".concat(c.qd.primary),children:"Demo Property Analysis"}),(0,t.jsx)("p",{className:"".concat(c.qd.muted," mt-1"),children:"Sample 6-year DCF analysis results â€¢ 875 Main Street, Manhattan, NY"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.E,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Analysis Complete"}),(0,t.jsx)(l.E,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Demo Data"})]})]}),(0,t.jsxs)(o,{value:s,onValueChange:a,className:"w-full",children:[(0,t.jsxs)(d,{className:"grid w-full grid-cols-5",children:[(0,t.jsx)(m,{value:"overview",children:"Financial Overview"}),(0,t.jsx)(m,{value:"cashflow",children:"Cash Flow Projections"}),(0,t.jsx)(m,{value:"sensitivity",children:"Monte Carlo Results"}),(0,t.jsx)(m,{value:"controls",children:"Sensitivity Controls"}),(0,t.jsx)(m,{value:"market",children:"Market Data"})]}),(0,t.jsx)(x,{value:"overview",className:"space-y-6 mt-6",children:(0,t.jsx)(S,{analysis:ef,onExport:f,onRunMonteCarlos:v,isExporting:i})}),(0,t.jsx)(x,{value:"cashflow",className:"space-y-6 mt-6",children:(0,t.jsx)(Z,{projections:ef.cash_flows||[],onExport:f,isExporting:i})}),(0,t.jsx)(x,{value:"sensitivity",className:"space-y-6 mt-6",children:(0,t.jsx)(Q,{results:ev,onRerun:v,onExport:f,isRunning:i})}),(0,t.jsx)(x,{value:"controls",className:"space-y-6 mt-6",children:(0,t.jsx)(ec,{parameters:[],configuration:j,onConfigurationChange:e=>{g(e)},onRunSimulation:e=>{},isRunning:i})}),(0,t.jsx)(x,{value:"market",className:"space-y-6 mt-6",children:(0,t.jsx)(eg,{selectedMSA:"NYC",onMSAChange:e=>console.log("Selected MSA:",e),onDataExport:(e,s)=>console.log("Exporting ".concat(e,":"),s),isLoading:i})})]})]})})}},11647:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(95155);a(12115);var r=a(83101),n=a(14915);let l=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-50 text-emerald-700 hover:bg-emerald-100",warning:"border-transparent bg-amber-50 text-amber-700 hover:bg-amber-100"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,n.cn)(l({variant:a}),s),...r})}},22153:(e,s,a)=>{Promise.resolve().then(a.bind(a,10662))},65142:(e,s,a)=>{"use strict";a.d(s,{p:()=>l});var t=a(95155),r=a(12115),n=a(14915);let l=r.forwardRef((e,s)=>{let{className:a,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});l.displayName="Input"},76444:(e,s,a)=>{"use strict";a.d(s,{J:()=>o});var t=a(95155),r=a(12115),n=a(10489),l=a(83101),i=a(14915);let c=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.b,{ref:s,className:(0,i.cn)(c(),a),...r})});o.displayName=n.b.displayName},80991:(e,s,a)=>{"use strict";a.d(s,{k:()=>i});var t=a(95155),r=a(12115),n=a(9484),l=a(14915);let i=r.forwardRef((e,s)=>{let{className:a,value:r,...i}=e;return(0,t.jsx)(n.bL,{ref:s,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...i,children:(0,t.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});i.displayName=n.bL.displayName},86948:(e,s,a)=>{"use strict";a.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>l,aR:()=>i,wL:()=>m});var t=a(95155),r=a(12115),n=a(14915);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border border-slate-200 bg-slate-50/70 text-slate-800 shadow-sm backdrop-blur-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"}},e=>{e.O(0,[349,580,81,915,441,255,358],()=>e(e.s=22153)),_N_E=e.O()}]);